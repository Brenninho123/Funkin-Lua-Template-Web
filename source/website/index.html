<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Funkin' Lua Template</title>

<style>
/* ===================== SEU CSS ORIGINAL ===================== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial,Helvetica,sans-serif;
}

body{
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
  min-height:100vh;
}

header{
  padding:20px;
  background:rgba(0,0,0,.4);
  text-align:center;
}

header h1{font-size:2.2rem}

nav a{
  color:#00eaff;
  text-decoration:none;
  margin:0 10px;
  font-weight:bold;
}

main{
  padding:40px 20px;
  max-width:1100px;
  margin:auto;
}

section{
  margin-bottom:40px;
  background:rgba(255,255,255,.08);
  padding:20px;
  border-radius:12px;
}

section h2{color:#00eaff;margin-bottom:10px}

button{
  background:#00eaff;
  border:none;
  padding:10px 18px;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
}

textarea,select,input{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:none;
  margin-top:10px;
}

footer{
  text-align:center;
  padding:15px;
  background:rgba(0,0,0,.5);
}

/* ===================== INTRO ADICIONAL (SEU) ===================== */
#introScreen{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#050d12,#0f2027,#203a43);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
  transition:.6s;
}

#introBox{
  background:rgba(0,0,0,.6);
  padding:40px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 0 40px rgba(0,234,255,.3);
}

#introBox h1{color:#00eaff}
</style>
</head>

<body>

<!-- ===================== INTRO (SEU) ===================== -->
<div id="introScreen">
  <div id="introBox">
    <h1>FNF Script Generator</h1>
    <p>Psych • Codename • V-Slice<br>Lua • Haxe • HScript</p>
    <button onclick="enterSite()">Entrar</button>
  </div>
</div>

<header>
<h1>Funkin' Script Modding</h1>
<nav>
<a href="#inicio">Início</a>
<a href="#gerador">Gerador</a>
<a href="#converter">Converter</a>
<a href="#extras">Extras</a>
</nav>
</header>

<main>

<section id="inicio">
<h2>Bem-vindo</h2>
<p>Gerador avançado de scripts para Friday Night Funkin'.</p>
</section>

<section id="gerador">
<h2>Gerar Script</h2>

<select id="engine">
<option>Psych Engine (Lua)</option>
<option>Codename Engine (HScript)</option>
<option>V-Slice (Haxe)</option>
</select>

<select id="scriptType">
<option>Camera Zoom</option>
<option>HUD Custom</option>
<option>Note Special</option>
<option>Health System</option>
<option>Stage JSON</option>
</select>

<button onclick="generate()">Gerar Script</button>

<textarea id="output" rows="14"></textarea>

<!-- ===================== ADICIONADO ===================== -->
<button onclick="copyOut()">Copiar</button>
<button onclick="downloadOut()">Baixar</button>

<input type="file" id="importFile" accept=".lua,.hx,.json,.hscript">
<button onclick="importFile()">Importar Script</button>

</section>

<section id="converter">
<h2>Converter Scripts</h2>
<select id="convertType">
<option>Psych → Codename</option>
<option>Codename → Psych</option>
</select>
<textarea id="inputScript" rows="8" placeholder="Cole o script aqui"></textarea>
<button onclick="convert()">Converter</button>
<textarea id="converted" rows="10"></textarea>
</section>

<section id="extras">
<h2>Extras (Codename / HScript)</h2>
<p>Compatível conceitualmente com:</p>
<ul>
<li>CodenameEngine</li>
<li>hscript-improved</li>
<li>hscript-rewrite</li>
</ul>
</section>

</main>

<footer>© 2026 - HTML Puro</footer>

<script>
/* ===================== INTRO (SEU) ===================== */
function enterSite(){
  document.getElementById('introScreen').style.opacity=0;
  setTimeout(()=>document.getElementById('introScreen').style.display='none',600);
}

/* ===================== GERADOR (CORRIGIDO + EXPANDIDO) ===================== */
function generate(){
  const engine=document.getElementById('engine').value;
  const type=document.getElementById('scriptType').value;
  let code="";

  if(engine.includes("Psych")){
    if(type==="Camera Zoom"){
      code=`function onBeatHit()
 if curBeat % 4 == 0 then
  cameraShake('camGame',0.02,0.2)
 end
end`;
    }
    if(type==="HUD Custom"){
      code=`function onCreatePost()
 setTextSize('scoreTxt',22)
 setTextColor('scoreTxt','00EAFF')
end`;
    }
    if(type==="Note Special"){
      code=`function opponentNoteHit()
 setProperty('health',getProperty('health')-0.02)
end`;
    }
    if(type==="Health System"){
      code=`function onUpdate()
 if getProperty('health') < 0.4 then
  setProperty('health',0.4)
 end
end`;
    }
    if(type==="Stage JSON"){
      code=`{
 "defaultZoom":0.9,
 "boyfriend":[770,450],
 "girlfriend":[400,130],
 "opponent":[100,450]
}`;
    }
  }

  if(engine.includes("Codename")){
    code=`// Codename Engine (HScript)
function onBeatHit(beat){
 if(beat % 4 == 0){
  Camera.shake(0.02);
 }
}`;
  }

  if(engine.includes("V-Slice")){
    code=`class StageExample extends Stage {
 override function create() {
  camera.zoom = 0.9;
 }
}`;
  }

  document.getElementById('output').value=code;
}

/* ===================== CONVERTER MELHORADO ===================== */
function convert(){
  const t=document.getElementById('convertType').value;
  let txt=document.getElementById('inputScript').value;

  if(!txt.trim()){
    alert("Cole um script primeiro");
    return;
  }

  if(t.includes("Psych")){
    txt="// Converted Psych → Codename\n"+txt
      .replace("cameraShake","Camera.shake");
  }else{
    txt="-- Converted Codename → Psych\n"+txt
      .replace("Camera.shake","cameraShake");
  }

  document.getElementById('converted').value=txt;
}

/* ===================== ADICIONADO: UTILIDADES ===================== */
function copyOut(){
  const o=document.getElementById('output');
  o.select();
  document.execCommand("copy");
}

function downloadOut(){
  const t=document.getElementById('output').value;
  const a=document.createElement("a");
  a.href=URL.createObjectURL(new Blob([t]));
  a.download="fnf_script.txt";
  a.click();
}

function importFile(){
  const f=document.getElementById('importFile').files[0];
  if(!f) return;
  const r=new FileReader();
  r.onload=()=>document.getElementById('output').value=r.result;
  r.readAsText(f);
}
</script>

</body>
</html>